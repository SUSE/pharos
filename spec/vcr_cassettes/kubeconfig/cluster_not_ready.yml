---
http_interactions:
- request:
    method: post
    uri: http://127.0.0.1:8000/login
    body:
      encoding: UTF-8
      string: '{"username":"saltapi","password":"saltapi","eauth":"pam"}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json; charset=utf-8
      User-Agent:
      - Ruby
      Host:
      - 127.0.0.1:8000
      Content-Type:
      - application/json; charset=utf-8
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Length:
      - '217'
      Access-Control-Expose-Headers:
      - GET, POST
      Vary:
      - Accept-Encoding
      Server:
      - CherryPy/3.6.0
      Allow:
      - GET, HEAD, POST
      Access-Control-Allow-Credentials:
      - 'true'
      Date:
      - Fri, 17 Mar 2017 17:06:18 GMT
      Access-Control-Allow-Origin:
      - "*"
      X-Auth-Token:
      - 5d54db59d86ebf36476ba60258f0b95cd2b4d4fb
      Content-Type:
      - application/json
      Set-Cookie:
      - session_id=5d54db59d86ebf36476ba60258f0b95cd2b4d4fb; expires=Sat, 18 Mar 2017
        03:06:18 GMT; Path=/
    body:
      encoding: UTF-8
      string: '{"return": [{"perms": [".*", "@wheel", "@runner", "@jobs", "@events"],
        "start": 1489770378.089598, "token": "5d54db59d86ebf36476ba60258f0b95cd2b4d4fb",
        "expire": 1489813578.089598, "user": "saltapi", "eauth": "pam"}]}'
    http_version: 
  recorded_at: Fri, 17 Mar 2017 17:06:18 GMT
- request:
    method: post
    uri: http://127.0.0.1:8000/
    body:
      encoding: UTF-8
      string: '{"tgt":"ca","fun":"mine.get","expr_form":"glob","client":"local","arg":["ca","ca.crt"]}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json; charset=utf-8
      User-Agent:
      - Ruby
      Host:
      - 127.0.0.1:8000
      Content-Type:
      - application/json; charset=utf-8
      X-Auth-Token:
      - 5d54db59d86ebf36476ba60258f0b95cd2b4d4fb
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Length:
      - '24'
      Access-Control-Expose-Headers:
      - GET, POST
      Cache-Control:
      - private
      Vary:
      - Accept-Encoding
      Server:
      - CherryPy/3.6.0
      Allow:
      - GET, HEAD, POST
      Access-Control-Allow-Credentials:
      - 'true'
      Date:
      - Fri, 17 Mar 2017 17:06:18 GMT
      Access-Control-Allow-Origin:
      - "*"
      Content-Type:
      - application/json
      Set-Cookie:
      - session_id=5d54db59d86ebf36476ba60258f0b95cd2b4d4fb; expires=Sat, 18 Mar 2017
        03:06:18 GMT; Path=/
    body:
      encoding: UTF-8
      string: '{"return": [{"ca": {}}]}'
    http_version: 
  recorded_at: Fri, 17 Mar 2017 17:06:18 GMT
- request:
    method: post
    uri: http://127.0.0.1:8000/login
    body:
      encoding: UTF-8
      string: '{"username":"saltapi","password":"saltapi","eauth":"pam"}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json; charset=utf-8
      User-Agent:
      - Ruby
      Host:
      - 127.0.0.1:8000
      Content-Type:
      - application/json; charset=utf-8
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Length:
      - '217'
      Access-Control-Expose-Headers:
      - GET, POST
      Vary:
      - Accept-Encoding
      Server:
      - CherryPy/3.6.0
      Allow:
      - GET, HEAD, POST
      Access-Control-Allow-Credentials:
      - 'true'
      Date:
      - Fri, 17 Mar 2017 17:06:18 GMT
      Access-Control-Allow-Origin:
      - "*"
      X-Auth-Token:
      - a330eeb2ada2b83320dc4a9d5ce00a95cb3009ab
      Content-Type:
      - application/json
      Set-Cookie:
      - session_id=a330eeb2ada2b83320dc4a9d5ce00a95cb3009ab; expires=Sat, 18 Mar 2017
        03:06:18 GMT; Path=/
    body:
      encoding: UTF-8
      string: '{"return": [{"perms": [".*", "@wheel", "@runner", "@jobs", "@events"],
        "start": 1489770378.254507, "token": "a330eeb2ada2b83320dc4a9d5ce00a95cb3009ab",
        "expire": 1489813578.254507, "user": "saltapi", "eauth": "pam"}]}'
    http_version: 
  recorded_at: Fri, 17 Mar 2017 17:06:18 GMT
- request:
    method: post
    uri: http://127.0.0.1:8000/
    body:
      encoding: UTF-8
      string: '{"tgt":"roles:kube-master","fun":"cmd.run","expr_form":"grain","client":"local","arg":"cat
        /etc/pki/minion.crt"}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json; charset=utf-8
      User-Agent:
      - Ruby
      Host:
      - 127.0.0.1:8000
      Content-Type:
      - application/json; charset=utf-8
      X-Auth-Token:
      - a330eeb2ada2b83320dc4a9d5ce00a95cb3009ab
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Length:
      - '90'
      Access-Control-Expose-Headers:
      - GET, POST
      Cache-Control:
      - private
      Vary:
      - Accept-Encoding
      Server:
      - CherryPy/3.6.0
      Allow:
      - GET, HEAD, POST
      Access-Control-Allow-Credentials:
      - 'true'
      Date:
      - Fri, 17 Mar 2017 17:06:18 GMT
      Access-Control-Allow-Origin:
      - "*"
      Content-Type:
      - application/json
      Set-Cookie:
      - session_id=a330eeb2ada2b83320dc4a9d5ce00a95cb3009ab; expires=Sat, 18 Mar 2017
        03:06:18 GMT; Path=/
    body:
      encoding: UTF-8
      string: '{"return": [{"minion1.k8s.local": "cat: /etc/pki/minion.crt: No such
        file or directory"}]}'
    http_version: 
  recorded_at: Fri, 17 Mar 2017 17:06:18 GMT
- request:
    method: post
    uri: http://127.0.0.1:8000/login
    body:
      encoding: UTF-8
      string: '{"username":"saltapi","password":"saltapi","eauth":"pam"}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json; charset=utf-8
      User-Agent:
      - Ruby
      Host:
      - 127.0.0.1:8000
      Content-Type:
      - application/json; charset=utf-8
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Length:
      - '216'
      Access-Control-Expose-Headers:
      - GET, POST
      Vary:
      - Accept-Encoding
      Server:
      - CherryPy/3.6.0
      Allow:
      - GET, HEAD, POST
      Access-Control-Allow-Credentials:
      - 'true'
      Date:
      - Fri, 17 Mar 2017 17:06:18 GMT
      Access-Control-Allow-Origin:
      - "*"
      X-Auth-Token:
      - 74287110bc88f8f1ad89273c9e675209736845fe
      Content-Type:
      - application/json
      Set-Cookie:
      - session_id=74287110bc88f8f1ad89273c9e675209736845fe; expires=Sat, 18 Mar 2017
        03:06:18 GMT; Path=/
    body:
      encoding: UTF-8
      string: '{"return": [{"perms": [".*", "@wheel", "@runner", "@jobs", "@events"],
        "start": 1489770378.443769, "token": "74287110bc88f8f1ad89273c9e675209736845fe",
        "expire": 1489813578.44377, "user": "saltapi", "eauth": "pam"}]}'
    http_version: 
  recorded_at: Fri, 17 Mar 2017 17:06:18 GMT
- request:
    method: post
    uri: http://127.0.0.1:8000/
    body:
      encoding: UTF-8
      string: '{"tgt":"roles:kube-master","fun":"cmd.run","expr_form":"grain","client":"local","arg":"cat
        /etc/pki/minion.key"}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json; charset=utf-8
      User-Agent:
      - Ruby
      Host:
      - 127.0.0.1:8000
      Content-Type:
      - application/json; charset=utf-8
      X-Auth-Token:
      - 74287110bc88f8f1ad89273c9e675209736845fe
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Length:
      - '90'
      Access-Control-Expose-Headers:
      - GET, POST
      Cache-Control:
      - private
      Vary:
      - Accept-Encoding
      Server:
      - CherryPy/3.6.0
      Allow:
      - GET, HEAD, POST
      Access-Control-Allow-Credentials:
      - 'true'
      Date:
      - Fri, 17 Mar 2017 17:06:18 GMT
      Access-Control-Allow-Origin:
      - "*"
      Content-Type:
      - application/json
      Set-Cookie:
      - session_id=74287110bc88f8f1ad89273c9e675209736845fe; expires=Sat, 18 Mar 2017
        03:06:18 GMT; Path=/
    body:
      encoding: UTF-8
      string: '{"return": [{"minion1.k8s.local": "cat: /etc/pki/minion.key: No such
        file or directory"}]}'
    http_version: 
  recorded_at: Fri, 17 Mar 2017 17:06:18 GMT
recorded_with: VCR 3.0.3
